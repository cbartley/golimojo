<html>
    <head>
        <title>Golimojo</title>
        
        <style>
        
            .title
            {
                font-family: sans-serif;
                font-size: 24pt;
                font-weight: bold;
                margin-bottom: 0.3em;
            }
        
            .description
            {
                margin-bottom: 1.0em;
            }
        
            .alternative
            {
                margin-bottom: 1em;
            }
        
            .heading
            {
                font-family: sans-serif;
                font-size: 16pt;
                font-weight: bold;
                margin-bottom: 0.3em;
            }
            
            .paragraph
            {
                margin-bottom: 0.5em;
            }
            
            .url-label
            {
                font-weight: bold;
            }
            
            #url-input
            {
                width: 30em;
            }
            
            
        </style>
        
        <script>
        
            var $host$ = location.host;
        
            function createProxyUrl(url)
            {
                if (!url.match(/^http:\/\//))
                {
                    url = "http://" + url;
                }

                var strippedUrl = url.replace(/^http:\/\//, "");
                var escapedStrippedUrl = escape(strippedUrl);
                var proxyServletUrl = "http://" + $host$ + "/servlet/missing-link/";
                var proxyUrl = proxyServletUrl + escapedStrippedUrl;
                return proxyUrl;
            }
        
            function proxyUrl(url)
            {
                location = createProxyUrl(url);
            }
            
            function createBookmarklet()
            {
                var bookmarklet = 
                    "javascript:location = ((#createProxyUrl#)(location.href))"
                        .replace(/#createProxyUrl#/, createProxyUrl.toString())
                            .replace(/\$host\$/, '"' + $host$ + '"')
                                .replace(/"/g, "'");
                return bookmarklet;
            }


        </script>

    </head>
    <body>
    
        <div class="title">Missing Link</div>
        
        <div class="description">
            Missing Link analyzes web pages and inserts links for phrases that correspond to 
            Wikipedia articles.  It currently uses a crude heuristic which works suprisingly
            often and also sometimes fails spectacularly.  There are several ways that
            Missing Link can be invoked which are described below.  Try it out.
        </div>
            

        <div class="alternative">
            <div class="heading">Alternative 1.</div>
            
            <div class="paragraph">
                Simply enter a URL and hit <b>Go</b>.  This is the easiest way to
                use Missing Link.
            </div>
            
            <div class="paragraph">
                <label class="url-label">URL:</label> 
                <input id="url-input" type="text">
                <button onclick="proxyUrl(document.getElementById('url-input').value)">Go</button>
            </div>
        </div>
        
        <div class="alternative">
            <div class="heading">Alternative 2.</div>
            
            <div class="paragraph">Use the <b>bookmarklet</b>.</div>
            
            <div class="paragraph">
                Use the 
                    <script>
                        document.write("Missing Link Bookmarklet".link(createBookmarklet()));
                    </script>.              
                <i>No</i>, <i>no</i>, 
                don't <i>click</i> on it -- instead, right-click it and use the 
                context menu to select <b>Bookmark This Link</b>.
            </div>  

            <div class="paragraph">
                OK, now that you've successfully saved the bookmarklet you can go
                to another page and then use the bookmarklet to redirect the page
                through the Missing Link proxy.
            </div>

        </div>

    </body>
</html>
